import{a as k,u as E,r as v,b as F,o as I,c as i,d as x,e as Q,f as t,w as u,g as _,E as P,A as j,h,t as $,F as C,i as z,j as V,k as U,v as N,l as q,m as p,n as T,p as D,q as K,S as G,s as H,x as J,y as R}from"./vendor.db86a07a.js";const W=function(){const a=document.createElement("link").relList;if(a&&a.supports&&a.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const e of n)if(e.type==="childList")for(const f of e.addedNodes)f.tagName==="LINK"&&f.rel==="modulepreload"&&l(f)}).observe(document,{childList:!0,subtree:!0});function c(n){const e={};return n.integrity&&(e.integrity=n.integrity),n.referrerpolicy&&(e.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?e.credentials="include":n.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function l(n){if(n.ep)return;n.ep=!0;const e=c(n);fetch(n.href,e)}};W();const O="https://api.github.com/repos/mewcoder/FE-Qu";k.interceptors.request.use(function(s){let a=window.localStorage.getItem("token");if(a)return s.headers.authorization=`Bearer ${atob(a)}`,s},function(s){return Promise.reject(s)});var y={getLabels(){return k.get(`${O}/labels`)},getOneQuestion(s){return k.get(`${O}/issues/${s}`)},getAllQuestion(s){return k.get(`${O}/issues`,{params:s})},addOneQuestion(s){return k.post(`${O}/issues`,s)}};const X=h("\u6765\u4E00\u9898"),Y=h("\u52A0\u4E00\u9898"),Z={setup(s){const a=E();let c=v([]);const l=v(!1),n=v(!1),e=F({input:"",label:""});v(0),I(async()=>{const r=await y.getLabels();r.status===200&&(c.value=r.data.map(o=>({label:o.name,value:o.name})))});const f=async()=>{let r=await y.getAllQuestion(),o=0;r.status===200&&(o=r.data.length||0);const b=Math.floor(Math.random()*o+1);console.log(b),r=await y.getOneQuestion(b),r.status===200&&(e.input=r.data.title,e.label=r.data.labels[0].name),n.value=!0},d=async()=>{e.input="",e.label="",l.value=!0},m=async()=>{l.value=!1;const r={title:e.input,labels:[e.label]};(await y.addOneQuestion(r)).status===201?a.success("\u6DFB\u52A0\u6210\u529F"):a.error("\u6DFB\u52A0\u5931\u8D25")};return(r,o)=>{const b=i("n-icon"),L=i("n-button"),S=i("n-space"),A=i("n-input"),g=i("n-select"),M=i("n-modal"),B=i("n-tag");return x(),Q(C,null,[t(S,{justify:"center"},{default:u(()=>[t(L,{type:"info",onClick:f,size:"large"},{default:u(()=>[t(b,null,{default:u(()=>[t(_(P))]),_:1}),X]),_:1}),t(L,{onClick:d,size:"large"},{default:u(()=>[t(b,null,{default:u(()=>[t(_(j))]),_:1}),Y]),_:1})]),_:1}),t(M,{show:l.value,"onUpdate:show":o[2]||(o[2]=w=>l.value=w),preset:"dialog",title:"\u52A0\u4E00\u9898","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",onPositiveClick:m,style:{width:"600px"}},{default:u(()=>[t(A,{value:_(e).input,"onUpdate:value":o[0]||(o[0]=w=>_(e).input=w),type:"textarea",placeholder:"\u8F93\u5165\u9898\u76EE",rows:"2"},null,8,["value"]),t(g,{value:_(e).label,"onUpdate:value":o[1]||(o[1]=w=>_(e).label=w),options:_(c),placeholder:"\u9009\u62E9\u5206\u7C7B",style:{width:"150px","margin-top":"10px"}},null,8,["value","options"])]),_:1},8,["show"]),t(M,{class:"custom-card",show:n.value,"onUpdate:show":o[3]||(o[3]=w=>n.value=w),preset:"card",title:"\u6765\u4E00\u9898",bordered:!1,segmented:r.segmented,style:{width:"600px"}},{default:u(()=>[t(B,{size:"medium",type:"info",style:{"margin-right":"5px"}},{default:u(()=>[h($(_(e).label),1)]),_:1}),h($(_(e).input),1)]),_:1},8,["show","segmented"])],64)}}};var ee=(s,a)=>{const c=s.__vccOpts||s;for(const[l,n]of a)c[l]=n;return c};const te=s=>(D("data-v-98605670"),s=s(),K(),s),ne={class:"table"},se=h(" \u5171 "),oe=h("\u9898"),ae=te(()=>p("thead",null,[p("tr",null,[p("th",null,"\u9898\u76EE"),p("th",null,"\u5206\u7C7B"),p("th",null,"\u5E8F\u53F7"),p("th",null,"\u94FE\u63A5")])],-1)),le=["href"],ue={setup(s){const a=v(0),c=v([]),l=v(!1),n=v(""),e=v([]);z(()=>n.value,async()=>{const d=await y.getAllQuestion({labels:n.value});d.status===200&&(c.value=d.data,a.value=d.data.length||0)}),I(async()=>{let d=await y.getAllQuestion();d.status===200&&(c.value=d.data,a.value=d.data.length||0),d=await y.getLabels(),d.status===200&&(e.value=d.data.map(m=>({label:m.name,value:m.name})))});const f=()=>{l.value&&(n.value=""),l.value=!l.value};return(d,m)=>{const r=i("n-icon"),o=i("n-statistic"),b=i("n-select"),L=i("n-button"),S=i("n-tag"),A=i("n-table");return x(),Q("div",ne,[t(o,{value:a.value},{prefix:u(()=>[t(r,null,{default:u(()=>[t(_(V))]),_:1}),se]),suffix:u(()=>[oe]),_:1},8,["value"]),U(t(b,{value:n.value,"onUpdate:value":m[0]||(m[0]=g=>n.value=g),options:e.value,placeholder:"\u8BF7\u9009\u62E9",clearable:"",style:{width:"150px",float:"left"}},null,8,["value","options"]),[[N,l.value]]),t(L,{style:{float:"right"},onClick:f},{icon:u(()=>[t(r,null,{default:u(()=>[t(_(q))]),_:1})]),_:1}),U(t(A,{"single-line":!1},{default:u(()=>[ae,p("tbody",null,[(x(!0),Q(C,null,T(c.value,g=>(x(),Q("tr",{key:g.number},[p("td",null,$(g.title),1),p("td",null,[t(S,null,{default:u(()=>[h($(g.labels[0].name),1)]),_:2},1024)]),p("td",null,$(g.number),1),p("td",null,[p("a",{href:g.html_url,target:"_blank"},"\u67E5\u770B",8,le)])]))),128))])]),_:1},512),[[N,l.value]])])}}};var re=ee(ue,[["__scopeId","data-v-98605670"]]);const ie={setup(s){const a=v(!1),c=v(""),l=async()=>{a.value=!1,c.value.trim()!==""&&localStorage.setItem("token",btoa(c.value))};return(n,e)=>{const f=i("n-icon"),d=i("n-button"),m=i("n-input"),r=i("n-modal");return x(),Q(C,null,[t(d,{style:{position:"fixed",right:"40px",bottom:"40px"},onClick:e[0]||(e[0]=o=>a.value=!0)},{icon:u(()=>[t(f,null,{default:u(()=>[t(_(G))]),_:1})]),_:1}),t(r,{show:a.value,"onUpdate:show":e[2]||(e[2]=o=>a.value=o),preset:"dialog",title:"token\u8BBE\u7F6E","positive-text":"\u786E\u8BA4","negative-text":"\u53D6\u6D88",onPositiveClick:l,style:{width:"600px"}},{default:u(()=>[t(m,{value:c.value,"onUpdate:value":e[1]||(e[1]=o=>c.value=o),type:"text",placeholder:"\u8BF7\u8F93\u5165"},null,8,["value"])]),_:1},8,["show"])],64)}}};const ce=p("h1",{class:"title"},"\u6765\u9053\u524D\u7AEF\u9898",-1),de=h(),pe=h(),_e={setup(s){return(a,c)=>{const l=i("n-message-provider");return x(),H(l,null,{default:u(()=>[ce,t(Z),de,t(re),pe,t(ie)]),_:1})}}};J(_e).use(R).mount("#app");
